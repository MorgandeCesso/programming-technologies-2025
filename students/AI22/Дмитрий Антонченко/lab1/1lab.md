# Текстовый ассистент на основе языковой модели

## Цель работы

Целью данной работы является изучение принципов взаимодействия с API языковых моделей и разработка простого текстового ассистента, поддерживающего системные промпты, управление параметрами генерации и хранение контекста диалога.

---

## Функциональные возможности

Разработанный ассистент позволяет:
- вести диалог с пользователем в консольном режиме;
- использовать системный промпт для задания роли ассистента;
- изменять параметр temperature во время работы программы;
- хранить краткосрочную историю диалога;
- сохранять и загружать системные промпты из базы данных SQLite.

---

## Используемые технологии

- **Язык программирования:** Python 3.12  
- **API:** Hugging Face Router API  
- **Модель:** `openai/gpt-oss-120b`  
- **База данных:** SQLite  
- **Основные библиотеки:**
  - requests  
  - python-dotenv  
  - sqlite3  
  - collections.deque  

---

## Установка и запуск

### 1. Создание виртуального окружения
```bash
python -m venv .venv
2. Активация окружения и установка зависимостей
pip install -r requirements.txt

3. Настройка переменных окружения

Создайте файл .env:

HF_API_KEY=your_hf_api_key
SYSTEM_PROMPT=Ты полезный и вежливый ассистент.

4. Запуск программы
python main.py

Системный промпт

Системный промпт загружается из файла .env при старте программы и может быть изменён во время работы.
Реализована возможность сохранения нескольких промптов в базе данных SQLite с последующей загрузкой и удалением.

Управление параметром temperature

Параметр temperature изменяется в реальном времени и влияет на поведение модели:

низкие значения обеспечивают краткие и предсказуемые ответы;

средние значения дают сбалансированные ответы;

высокие значения увеличивают вариативность и детализацию.

На основе проведённых экспериментов оптимальным значением для диалогового ассистента является диапазон 0.5–0.7.

Хранение контекста диалога

Для хранения истории используется структура данных deque(maxlen=6):

сохраняются последние 6 сообщений (3 пары пользователь–ассистент);

при превышении лимита старые сообщения автоматически удаляются;

история передаётся в каждый запрос к API.

Данный подход позволяет учитывать контекст диалога без избыточного потребления памяти.

Доступные команды
Команда	Описание
exit	Выход из программы
settemp <0-1>	Изменение temperature
setprompt	Изменение системного промпта
showprompt	Просмотр текущего промпта
saveprompt	Сохранение промпта в БД
loadprompt	Загрузка промпта
listprompts	Просмотр списка промптов
deleteprompt	Удаление промпта
Выводы

В ходе выполнения работы:

изучены основы работы с API языковых моделей;

реализовано управление системным промптом и параметрами генерации;

экспериментально подтверждено влияние temperature на поведение модели;

реализовано хранение краткосрочного контекста диалога;

получен практический опыт работы с SQLite и переменными окружения.

Разработанный ассистент демонстрирует базовые принципы построения диалоговых систем на основе современных языковых моделей.
