# Telegram Chat Bot Assistant

## Описание

Это реализация лабораторной работы №2 по разработке Telegram бота. Бот использует AI модель llama-3.1-8b-instant от Groq для генерации ответов и SQLite для хранения истории сообщений. Проект демонстрирует работу с асинхронной обработкой сообщений, управлением состоянием пользователей и взаимодействием с внешними API.

Основные возможности:
- Базовая команда /start с приветствием
- Система контекста диалога (последние 12 сообщений)
- Хранение сообщений в базе данных (SQLite)
- Поддержка имени пользователя в диалоге
- Системный промпт для настройки поведения ассистента
- Команда /reset-context для сброса контекста
- Поддержка отправки изображений

## Используемые технологии

| Технология | Версия | Назначение |
|-----------|--------|-----------|
| **Python** | 3.10+ | Язык программирования |
| **Aiogram** | 3.x | Асинхронная библиотека для работы с Telegram API |
| **Groq API** | 1.0+ | LLM (модель `llama-3.1-8b-instant`) |
| **SQLAlchemy** | 2.0+ | ORM для работы с БД |
| **aiosqlite** | 0.22+ | Асинхронный драйвер для SQLite |
| **SQLite** | встроенный | СУБД (файл `bot.db`) |
| **python-dotenv** | 1.2+ | Управление переменными окружения |


## Запуск

```bash
python main.py
```

После успешного запуска бот начнет слушать входящие сообщения.

## Команды бота

| Команда | Описание |
|---------|----------|
| /start | Начало диалога, приветствие и информация о командах |
| /reset-context | Сброс контекста диалога (удаление истории сообщений) |

## Как это работает

Основной рабочий процесс бота:

1. Пользователь отправляет /start
2. Бот создает запись пользователя в БД
3. Пользователь отправляет сообщение
4. Сообщение сохраняется в БД с ролью "user"
5. Бот загружает последние сообщения из контекста (до 12)
6. Отправляет их вместе с системным промптом в Groq API
7. Получает ответ ассистента и сохраняет его в БД
8. Отправляет ответ пользователю в Telegram

## Полезные ссылки

- [Aiogram Documentation](https://docs.aiogram.dev/)
- [Groq API Docs](https://console.groq.com/docs)
- [SQLAlchemy ORM](https://docs.sqlalchemy.org/)
- [Telegram Bot API](https://core.telegram.org/bots/api)
